<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é•œå­å‹å–„ç»ƒä¹  - MindFit</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; }
    .mirror-shine { animation: mirrorShine 3s ease-in-out infinite; }
    @keyframes mirrorShine {
      0%, 100% { box-shadow: 0 0 20px rgba(147, 197, 253, 0.3); }
      50% { box-shadow: 0 0 40px rgba(147, 197, 253, 0.6); }
    }
    .gentle-pulse { animation: gentlePulse 2s ease-in-out infinite; }
    @keyframes gentlePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .fade-in { animation: fadeIn 0.8s ease-in; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen">
  
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <nav class="bg-white/80 backdrop-blur-sm shadow-sm sticky top-0 z-50">
    <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="daily_practice.html" class="text-blue-600 hover:text-blue-700">
        <i class="fas fa-arrow-left mr-2"></i>è¿”å›ç»ƒä¹ 
      </a>
      <h1 class="text-lg font-semibold text-gray-800">é•œå­å‹å–„ç»ƒä¹ </h1>
      <div class="w-20"></div>
    </div>
  </nav>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="max-w-4xl mx-auto px-4 py-8">
    
    <!-- å¼•è¨€å¡ç‰‡ -->
    <div class="bg-white rounded-3xl shadow-lg p-8 mb-8">
      <div class="text-center mb-6">
        <div class="mirror-shine w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center">
          <i class="fas fa-user-circle text-4xl text-white"></i>
        </div>
        <h2 class="text-3xl font-bold text-gray-800 mb-3">ç”¨æ¸©æŸ”çš„çœ¼å…‰çœ‹è‡ªå·±</h2>
        <p class="text-gray-600 text-lg">5åˆ†é’Ÿå­¦ä¼šç”¨ä¸­ç«‹ã€å‹å–„çš„æ–¹å¼çœ‹é•œä¸­çš„ä½ </p>
      </div>

      <div class="grid md:grid-cols-3 gap-4 mb-6">
        <div class="text-center p-4 bg-blue-50 rounded-xl">
          <i class="fas fa-clock text-blue-600 text-2xl mb-2"></i>
          <div class="text-sm text-gray-600">ç»ƒä¹ æ—¶é•¿</div>
          <div class="text-lg font-semibold text-gray-800">5åˆ†é’Ÿ</div>
        </div>
        <div class="text-center p-4 bg-purple-50 rounded-xl">
          <i class="fas fa-seedling text-purple-600 text-2xl mb-2"></i>
          <div class="text-sm text-gray-600">éš¾åº¦ç­‰çº§</div>
          <div class="text-lg font-semibold text-gray-800">ç®€å•</div>
        </div>
        <div class="text-center p-4 bg-pink-50 rounded-xl">
          <i class="fas fa-heart text-pink-600 text-2xl mb-2"></i>
          <div class="text-sm text-gray-600">ä¸»è¦æ•ˆæœ</div>
          <div class="text-lg font-semibold text-gray-800">å‡å°‘è‡ªæˆ‘æ‰¹è¯„</div>
        </div>
      </div>

      <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6">
        <h3 class="font-bold text-gray-800 mb-3 flex items-center text-lg">
          <i class="fas fa-info-circle text-blue-600 mr-3"></i>
          è¿™ä¸ªç»ƒä¹ é€‚åˆä½ ,å¦‚æœ...
        </h3>
        <ul class="space-y-2 text-gray-700">
          <li class="flex items-start">
            <i class="fas fa-check text-blue-600 mr-2 mt-1"></i>
            <span>ç…§é•œå­æ—¶æ€»æ˜¯æŒ‘å‰”è‡ªå·±çš„å¤–è²Œ</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check text-blue-600 mr-2 mt-1"></i>
            <span>é¿å…çœ‹é•œå­,å› ä¸ºå®³æ€•çœ‹åˆ°"çœŸå®çš„è‡ªå·±"</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check text-blue-600 mr-2 mt-1"></i>
            <span>è„‘æµ·ä¸­æ€»æœ‰"æˆ‘å¤ªèƒ–/ä¸‘"çš„å£°éŸ³</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check text-blue-600 mr-2 mt-1"></i>
            <span>æƒ³å­¦ä¹ æ›´å‹å–„åœ°çœ‹å¾…è‡ªå·±çš„èº«ä½“</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- ç»ƒä¹ å‡†å¤‡ -->
    <div class="bg-white rounded-3xl shadow-lg p-8 mb-8">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
        <i class="fas fa-list-check text-blue-600 mr-3"></i>
        å¼€å§‹å‰è¯·å‡†å¤‡
      </h3>
      
      <div class="grid md:grid-cols-2 gap-4">
        <div class="flex items-start p-4 bg-gray-50 rounded-xl">
          <i class="fas fa-mirror text-blue-600 text-2xl mr-4 mt-1"></i>
          <div>
            <div class="font-semibold text-gray-800 mb-1">æ‰¾ä¸€é¢é•œå­</div>
            <div class="text-sm text-gray-600">å¯ä»¥æ˜¯å…¨èº«é•œã€åŒ–å¦†é•œ,æˆ–æ‰‹æœºå‰ç½®æ‘„åƒå¤´</div>
          </div>
        </div>

        <div class="flex items-start p-4 bg-gray-50 rounded-xl">
          <i class="fas fa-door-closed text-blue-600 text-2xl mr-4 mt-1"></i>
          <div>
            <div class="font-semibold text-gray-800 mb-1">ç§å¯†ç©ºé—´</div>
            <div class="text-sm text-gray-600">ç¡®ä¿ç‹¬å¤„,ä¸ä¼šè¢«æ‰“æ‰°</div>
          </div>
        </div>

        <div class="flex items-start p-4 bg-gray-50 rounded-xl">
          <i class="fas fa-smile text-blue-600 text-2xl mr-4 mt-1"></i>
          <div>
            <div class="font-semibold text-gray-800 mb-1">æ”¾æ¾å¿ƒæ€</div>
            <div class="text-sm text-gray-600">è¿™ä¸æ˜¯è¦æŒ‘å‰”å¤–è²Œ,è€Œæ˜¯ç»ƒä¹ å‹å–„è§‚å¯Ÿ</div>
          </div>
        </div>

        <div class="flex items-start p-4 bg-gray-50 rounded-xl">
          <i class="fas fa-volume-up text-blue-600 text-2xl mr-4 mt-1"></i>
          <div>
            <div class="font-semibold text-gray-800 mb-1">å¯é€‰éŸ³é¢‘</div>
            <div class="text-sm text-gray-600">å¯ä»¥æ‰“å¼€æ‰¬å£°å™¨,è·Ÿéšè¯­éŸ³å¼•å¯¼</div>
          </div>
        </div>
      </div>
    </div>

    <!-- å¼€å§‹ç»ƒä¹ æŒ‰é’® -->
    <div class="text-center mb-8">
      <button onclick="startPractice()" class="gentle-pulse bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-16 py-5 rounded-full text-xl font-bold shadow-2xl transition-all transform hover:scale-105">
        <i class="fas fa-play mr-3"></i>å‡†å¤‡å¥½äº†,å¼€å§‹ç»ƒä¹ 
      </button>
      <p class="text-sm text-gray-500 mt-4">è¯·ç¡®ä¿ä½ å·²ç»ç«™åœ¨æˆ–ååœ¨é•œå­å‰</p>
    </div>

  </main>

  <!-- ç»ƒä¹ æ¨¡æ€æ¡† -->
  <div id="practiceModal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl shadow-2xl max-w-lg w-full p-8">
      
      <!-- è¿›åº¦æ˜¾ç¤º -->
      <div class="text-center mb-6">
        <div id="stepIndicator" class="text-sm text-gray-500 mb-2">æ­¥éª¤ 1/5</div>
        <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
          <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500" style="width: 20%"></div>
        </div>
      </div>

      <!-- å½“å‰æ­¥éª¤å›¾æ ‡ -->
      <div class="text-center mb-6">
        <div id="stepIcon" class="w-20 h-20 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center fade-in">
          <i class="fas fa-eye text-3xl text-blue-600"></i>
        </div>
      </div>

      <!-- å¼•å¯¼å†…å®¹ -->
      <div id="guideContent" class="text-center mb-8 min-h-[200px]">
        <h3 id="guideTitle" class="text-2xl font-bold text-gray-800 mb-4 fade-in">ä¸­ç«‹è§‚å¯Ÿ</h3>
        <p id="guideText" class="text-gray-600 leading-relaxed fade-in">
          çœ‹ç€é•œä¸­çš„è‡ªå·±,ä¸è¦æ€¥ç€è¯„åˆ¤ã€‚åªæ˜¯è§‚å¯Ÿ,å°±åƒç¬¬ä¸€æ¬¡è§åˆ°è‡ªå·±ä¸€æ ·ã€‚
        </p>
      </div>

      <!-- è®¡æ—¶å™¨ -->
      <div class="text-center mb-6">
        <div id="timer" class="text-4xl font-bold text-blue-600">0:00</div>
        <div class="text-sm text-gray-500 mt-1">æœ¬æ­¥éª¤å€’è®¡æ—¶</div>
      </div>

      <!-- æ§åˆ¶æŒ‰é’® -->
      <div class="flex gap-3">
        <button onclick="skipStep()" class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-medium transition-all">
          <i class="fas fa-forward mr-2"></i>è·³è¿‡
        </button>
        <button id="pauseBtn" onclick="togglePause()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-medium transition-all">
          <i class="fas fa-pause mr-2"></i>æš‚åœ
        </button>
      </div>

    </div>
  </div>

  <!-- å®Œæˆæ¨¡æ€æ¡† -->
  <div id="completionModal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl shadow-2xl max-w-lg w-full p-8">
      
      <div class="text-center mb-6">
        <div class="w-24 h-24 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center">
          <i class="fas fa-check-circle text-5xl text-green-600"></i>
        </div>
        <h3 class="text-2xl font-bold text-gray-800 mb-2">ğŸ‰ ç»ƒä¹ å®Œæˆ!</h3>
        <p class="text-gray-600">ä½ åˆšåˆšç”¨æ›´å‹å–„çš„æ–¹å¼çœ‹å¾…äº†è‡ªå·±</p>
      </div>

      <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 mb-6">
        <h4 class="font-semibold text-gray-800 mb-3">ğŸ’¡ åšæŒç»ƒä¹ çš„å»ºè®®:</h4>
        <ul class="space-y-2 text-sm text-gray-700">
          <li class="flex items-start">
            <i class="fas fa-star text-yellow-500 mr-2 mt-1"></i>
            <span>æ¯å¤©åŒä¸€æ—¶é—´ç»ƒä¹ (å¦‚æ—©ä¸Šåˆ·ç‰™å)</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-star text-yellow-500 mr-2 mt-1"></i>
            <span>åšæŒ2-4å‘¨,ä½ ä¼šå‘ç°æ˜æ˜¾å˜åŒ–</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-star text-yellow-500 mr-2 mt-1"></i>
            <span>æœ‰æ—¶ä¼šé€€æ­¥,è¿™å¾ˆæ­£å¸¸,æ¸©æŸ”å¯¹å¾…è‡ªå·±</span>
          </li>
        </ul>
      </div>

      <div class="bg-purple-50 border-2 border-purple-200 rounded-xl p-4 mb-6">
        <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
          <i class="fas fa-tools text-purple-600 mr-2"></i>
          æƒ³è¦æ›´æ·±å…¥çš„æ”¹å˜?
        </h4>
        <p class="text-sm text-gray-600 mb-3">
          è¯•è¯•<strong>"èº«ä½“æ„è±¡è®¤çŸ¥é‡æ„å·¥å…·"</strong>,å¯ä»¥å¸®ä½ ç³»ç»Ÿæ€§åœ°è¯†åˆ«å’Œæ”¹å˜å¯¹èº«ä½“çš„è´Ÿé¢æ€ç»´æ¨¡å¼ã€‚
        </p>
        <button onclick="goToTool()" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg text-sm font-medium transition-all">
          <i class="fas fa-arrow-right mr-2"></i>å‰å¾€æ·±åº¦å·¥å…·
        </button>
      </div>

      <button onclick="closeCompletion()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-medium transition-all">
        å®Œæˆå¹¶è¿”å›
      </button>

    </div>
  </div>

  <script>
    let currentStep = 0;
    let timer = null;
    let remainingSeconds = 0;
    let isPaused = false;
    let totalTime = 0;

    const steps = [
      {
        title: 'ä¸­ç«‹è§‚å¯Ÿ',
        icon: 'fa-eye',
        iconColor: 'blue',
        text: 'çœ‹ç€é•œä¸­çš„è‡ªå·±,ä¸è¦æ€¥ç€è¯„åˆ¤ã€‚åªæ˜¯è§‚å¯Ÿ,å°±åƒç¬¬ä¸€æ¬¡è§åˆ°è‡ªå·±ä¸€æ ·ã€‚æ³¨æ„çœ¼ç›çš„é¢œè‰²ã€å¤´å‘çš„è´¨åœ°ã€çš®è‚¤çš„çº¹ç†...ç”¨å®¢è§‚çš„è¯æ±‡,è€Œé"å¥½"æˆ–"å"ã€‚',
        duration: 60
      },
      {
        title: 'åŠŸèƒ½æ„Ÿæ©',
        icon: 'fa-hands-helping',
        iconColor: 'purple',
        text: 'åœ¨å¿ƒä¸­é»˜å¿µ:æ„Ÿè°¢æˆ‘çš„çœ¼ç›èƒ½çœ‹åˆ°ç¾ä¸½çš„ä¸–ç•Œ...æ„Ÿè°¢æˆ‘çš„åŒè…¿èƒ½å¸¦æˆ‘å»ä»»ä½•åœ°æ–¹...æ„Ÿè°¢æˆ‘çš„æ‰‹èƒ½æ‹¥æŠ±çˆ±çš„äºº...æƒ³æƒ³ä½ çš„èº«ä½“ä¸ºä½ åšçš„3ä»¶äº‹ã€‚',
        duration: 60
      },
      {
        title: 'æ”¾ä¸‹è¯„åˆ¤',
        icon: 'fa-leaf',
        iconColor: 'green',
        text: 'å¦‚æœæœ‰è´Ÿé¢æƒ³æ³•å†’å‡ºæ¥(æ¯”å¦‚"æˆ‘å¤ªèƒ–äº†"),ä¸è¦å¯¹æŠ—å®ƒã€‚æƒ³è±¡æŠŠè¿™ä¸ªæƒ³æ³•è£…è¿›ä¸€ä¸ªæ°”çƒ,çœ‹ç€å®ƒæ…¢æ…¢é£˜èµ°ã€‚è½»è½»å¯¹è‡ªå·±è¯´:"è¿™åªæ˜¯ä¸€ä¸ªæƒ³æ³•,ä¸æ˜¯äº‹å®ã€‚"',
        duration: 60
      },
      {
        title: 'å‹å–„å¯¹è¯',
        icon: 'fa-heart',
        iconColor: 'pink',
        text: 'çœ‹ç€é•œä¸­çš„è‡ªå·±,åœ¨å¿ƒä¸­æ¸©æŸ”åœ°è¯´:"ä½ ä¸éœ€è¦å®Œç¾,å°±å€¼å¾—è¢«çˆ±ã€‚""è°¢è°¢ä½ ä¸€ç›´é™ªä¼´æˆ‘ã€‚""æˆ‘ä¼šæ›´æ¸©æŸ”åœ°å¯¹å¾…ä½ ã€‚"é€‰ä¸€å¥æœ€æ‰“åŠ¨ä½ çš„,é‡å¤3æ¬¡ã€‚',
        duration: 50
      },
      {
        title: 'å¾®ç¬‘ç»“æŸ',
        icon: 'fa-smile',
        iconColor: 'yellow',
        text: 'å¯¹ç€é•œå­é‡Œçš„è‡ªå·±,æ¸©æŸ”åœ°å¾®ç¬‘ã€‚ä¿æŒè¿™ä¸ªå¾®ç¬‘10ç§’é’Ÿã€‚è®°ä½è¿™ä¸ªæ„Ÿè§‰,ä»Šå¤©æ¯æ¬¡ç…§é•œå­æ—¶,éƒ½è¯•ç€ç»™è‡ªå·±ä¸€ä¸ªå¾®ç¬‘ã€‚',
        duration: 30
      }
    ];

    function startPractice() {
      document.getElementById('practiceModal').classList.remove('hidden');
      currentStep = 0;
      totalTime = 0;
      renderStep();
    }

    function renderStep() {
      const step = steps[currentStep];
      
      // æ›´æ–°è¿›åº¦
      const progress = ((currentStep + 1) / steps.length) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
      document.getElementById('stepIndicator').textContent = `æ­¥éª¤ ${currentStep + 1}/${steps.length}`;

      // æ›´æ–°å›¾æ ‡
      const iconColors = {
        blue: 'bg-blue-100 text-blue-600',
        purple: 'bg-purple-100 text-purple-600',
        green: 'bg-green-100 text-green-600',
        pink: 'bg-pink-100 text-pink-600',
        yellow: 'bg-yellow-100 text-yellow-600'
      };
      
      const iconDiv = document.getElementById('stepIcon');
      iconDiv.className = `w-20 h-20 ${iconColors[step.iconColor]} rounded-full mx-auto mb-4 flex items-center justify-center fade-in`;
      iconDiv.innerHTML = `<i class="fas ${step.icon} text-3xl"></i>`;

      // æ›´æ–°æ–‡å­—
      document.getElementById('guideTitle').textContent = step.title;
      document.getElementById('guideText').textContent = step.text;

      // å¼€å§‹è®¡æ—¶
      remainingSeconds = step.duration;
      isPaused = false;
      updateTimer();
      startTimer();
    }

    function startTimer() {
      clearInterval(timer);
      timer = setInterval(() => {
        if (!isPaused && remainingSeconds > 0) {
          remainingSeconds--;
          totalTime++;
          updateTimer();
          
          if (remainingSeconds === 0) {
            nextStep();
          }
        }
      }, 1000);
    }

    function updateTimer() {
      const minutes = Math.floor(remainingSeconds / 60);
      const seconds = remainingSeconds % 60;
      document.getElementById('timer').textContent = 
        `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    function nextStep() {
      if (currentStep < steps.length - 1) {
        currentStep++;
        renderStep();
      } else {
        completePractice();
      }
    }

    function skipStep() {
      nextStep();
    }

    function togglePause() {
      isPaused = !isPaused;
      const btn = document.getElementById('pauseBtn');
      btn.innerHTML = isPaused ? 
        '<i class="fas fa-play mr-2"></i>ç»§ç»­' : 
        '<i class="fas fa-pause mr-2"></i>æš‚åœ';
    }

    function completePractice() {
      clearInterval(timer);
      
      // ä¿å­˜ç»ƒä¹ è®°å½•
      const record = {
        id: Date.now(),
        title: 'é•œå­å‹å–„ç»ƒä¹ ',
        category: 'mindful',
        duration: Math.ceil(totalTime / 60),
        date: new Date().toISOString(),
        timestamp: Date.now()
      };

      const history = JSON.parse(localStorage.getItem('practiceHistory') || '[]');
      history.push(record);
      localStorage.setItem('practiceHistory', JSON.stringify(history));

      // æ˜¾ç¤ºå®Œæˆç•Œé¢
      document.getElementById('practiceModal').classList.add('hidden');
      document.getElementById('completionModal').classList.remove('hidden');
    }

    function closeCompletion() {
      document.getElementById('completionModal').classList.add('hidden');
      window.location.href = 'daily_practice.html';
    }

    function goToTool() {
      // è·³è½¬åˆ°æ·±åº¦å·¥å…·é¡µé¢
      window.location.href = 'body-image-reframe.html';
    }
  </script>

</body>
</html>
