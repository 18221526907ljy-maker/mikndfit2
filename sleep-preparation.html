<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¡å‰æ”¾æ¾ç»ƒä¹  - MindFit</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { 
      font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
      background: linear-gradient(to bottom, #1a1a2e, #16213e, #0f3460);
    }
    .star { 
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    .moon {
      animation: float 6s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
  </style>
</head>
<body class="min-h-screen text-white relative overflow-hidden">
  
  <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
  <div id="stars"></div>
  
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <nav class="bg-indigo-900/30 backdrop-blur-sm shadow-sm sticky top-0 z-50">
    <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="daily_practice.html" class="text-indigo-200 hover:text-white">
        <i class="fas fa-arrow-left mr-2"></i>è¿”å›ç»ƒä¹ 
      </a>
      <h1 class="text-lg font-semibold">ç¡å‰æ”¾æ¾ç»ƒä¹ </h1>
      <div class="w-20"></div>
    </div>
  </nav>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="max-w-4xl mx-auto px-4 py-8 relative z-10">
    
    <!-- æ¬¢è¿å¡ç‰‡ -->
    <div class="bg-indigo-900/50 backdrop-blur-md rounded-3xl shadow-2xl p-8 mb-8 border border-indigo-700/30">
      <div class="text-center mb-6">
        <div class="moon w-24 h-24 bg-gradient-to-br from-yellow-200 to-yellow-400 rounded-full mx-auto mb-6 flex items-center justify-center shadow-2xl">
          <i class="fas fa-moon text-4xl text-indigo-900"></i>
        </div>
        <h2 class="text-3xl font-bold mb-2">æ™šå®‰,å‡†å¤‡ä¼‘æ¯äº†å—?</h2>
        <p class="text-indigo-200">è®©èº«å¿ƒè¿›å…¥æ·±åº¦æ”¾æ¾,ä¸ºä¼˜è´¨ç¡çœ åšå‡†å¤‡</p>
      </div>

      <div class="grid md:grid-cols-3 gap-4">
        <div class="text-center p-4 bg-indigo-800/50 rounded-xl">
          <i class="fas fa-clock text-yellow-400 text-2xl mb-2"></i>
          <div class="text-sm text-indigo-200">å»ºè®®æ—¶é•¿</div>
          <div class="text-lg font-semibold">10-15åˆ†é’Ÿ</div>
        </div>
        <div class="text-center p-4 bg-indigo-800/50 rounded-xl">
          <i class="fas fa-bed text-yellow-400 text-2xl mb-2"></i>
          <div class="text-sm text-indigo-200">æœ€ä½³æ—¶é—´</div>
          <div class="text-lg font-semibold">ç¡å‰30åˆ†é’Ÿ</div>
        </div>
        <div class="text-center p-4 bg-indigo-800/50 rounded-xl">
          <i class="fas fa-heart text-yellow-400 text-2xl mb-2"></i>
          <div class="text-sm text-indigo-200">ä¸»è¦æ•ˆæœ</div>
          <div class="text-lg font-semibold">æ”¹å–„ç¡çœ </div>
        </div>
      </div>
    </div>

    <!-- ç¡å‰å‡†å¤‡æç¤º -->
    <div class="bg-indigo-900/50 backdrop-blur-md rounded-3xl shadow-2xl p-8 mb-8 border border-indigo-700/30">
      <h3 class="text-xl font-semibold mb-4 flex items-center">
        <i class="fas fa-lightbulb text-yellow-400 mr-3"></i>
        ç¡çœ å‡†å¤‡å»ºè®®
      </h3>
      <ul class="space-y-3 text-sm text-indigo-200">
        <li class="flex items-start">
          <i class="fas fa-check-circle text-yellow-400 mr-3 mt-1"></i>
          <span>å…³é—­æˆ–è°ƒæš—æ‰€æœ‰ç¯å…‰,è¥é€ èˆ’é€‚çš„ç¡çœ ç¯å¢ƒ</span>
        </li>
        <li class="flex items-start">
          <i class="fas fa-check-circle text-yellow-400 mr-3 mt-1"></i>
          <span>å°†æ‰‹æœºè°ƒè‡³å‹¿æ‰°æ¨¡å¼,æ”¾åœ¨å¤Ÿä¸åˆ°çš„åœ°æ–¹</span>
        </li>
        <li class="flex items-start">
          <i class="fas fa-check-circle text-yellow-400 mr-3 mt-1"></i>
          <span>èººåœ¨åºŠä¸Š,æ‰¾ä¸€ä¸ªæœ€èˆ’æœçš„å§¿åŠ¿</span>
        </li>
        <li class="flex items-start">
          <i class="fas fa-check-circle text-yellow-400 mr-3 mt-1"></i>
          <span>å¯ä»¥æ’­æ”¾è½»æŸ”çš„èƒŒæ™¯éŸ³ä¹æˆ–ç™½å™ªéŸ³</span>
        </li>
      </ul>
    </div>

    <!-- é€‰æ‹©ç»ƒä¹  -->
    <div class="bg-indigo-900/50 backdrop-blur-md rounded-3xl shadow-2xl p-8 mb-8 border border-indigo-700/30">
      <h3 class="text-xl font-semibold mb-6 text-center">é€‰æ‹©ä½ çš„ç¡å‰ç»ƒä¹ </h3>
      
      <div class="grid md:grid-cols-2 gap-6">
        
        <button onclick="startPractice('body-scan')" class="p-6 border-2 border-yellow-400/50 bg-indigo-800/50 rounded-2xl hover:bg-indigo-700/50 transition-all text-left">
          <div class="flex items-center mb-3">
            <i class="fas fa-user text-yellow-400 text-2xl mr-3"></i>
            <div class="text-lg font-semibold">èº«ä½“æ‰«ææ”¾æ¾</div>
          </div>
          <p class="text-sm text-indigo-200 mb-3">ä»å¤´åˆ°è„šé€æ­¥æ”¾æ¾æ¯ä¸ªéƒ¨ä½</p>
          <div class="flex items-center justify-between text-xs">
            <span class="text-yellow-400 font-medium">â±ï¸ 12åˆ†é’Ÿ</span>
            <span class="text-indigo-300">æ¨è â­</span>
          </div>
        </button>

        <button onclick="startPractice('breath-counting')" class="p-6 border-2 border-indigo-400/50 bg-indigo-800/50 rounded-2xl hover:bg-indigo-700/50 transition-all text-left">
          <div class="flex items-center mb-3">
            <i class="fas fa-wind text-yellow-400 text-2xl mr-3"></i>
            <div class="text-lg font-semibold">æ•°æ¯åŠ©çœ </div>
          </div>
          <p class="text-sm text-indigo-200 mb-3">é€šè¿‡æ•°å‘¼å¸è®©æ€ç»ªå¹³é™ä¸‹æ¥</p>
          <div class="flex items-center justify-between text-xs">
            <span class="text-yellow-400 font-medium">â±ï¸ 10åˆ†é’Ÿ</span>
            <span class="text-indigo-300">é€‚åˆæ€ç»ªæ´»è·ƒæ—¶</span>
          </div>
        </button>

        <button onclick="startPractice('visualization')" class="p-6 border-2 border-indigo-400/50 bg-indigo-800/50 rounded-2xl hover:bg-indigo-700/50 transition-all text-left">
          <div class="flex items-center mb-3">
            <i class="fas fa-cloud text-yellow-400 text-2xl mr-3"></i>
            <div class="text-lg font-semibold">å¹³é™æƒ³è±¡</div>
          </div>
          <p class="text-sm text-indigo-200 mb-3">æƒ³è±¡å®é™çš„åœºæ™¯å¸®åŠ©å…¥ç¡</p>
          <div class="flex items-center justify-between text-xs">
            <span class="text-yellow-400 font-medium">â±ï¸ 8åˆ†é’Ÿ</span>
            <span class="text-indigo-300">æœ€æ”¾æ¾</span>
          </div>
        </button>

        <button onclick="startPractice('gratitude-sleep')" class="p-6 border-2 border-indigo-400/50 bg-indigo-800/50 rounded-2xl hover:bg-indigo-700/50 transition-all text-left">
          <div class="flex items-center mb-3">
            <i class="fas fa-heart text-yellow-400 text-2xl mr-3"></i>
            <div class="text-lg font-semibold">æ„Ÿæ©å…¥çœ </div>
          </div>
          <p class="text-sm text-indigo-200 mb-3">å¸¦ç€æ„Ÿæ©çš„å¿ƒæƒ…è¿›å…¥æ¢¦ä¹¡</p>
          <div class="flex items-center justify-between text-xs">
            <span class="text-yellow-400 font-medium">â±ï¸ 5åˆ†é’Ÿ</span>
            <span class="text-indigo-300">æœ€æ¸©æš–</span>
          </div>
        </button>

      </div>
    </div>

  </main>

  <!-- ç»ƒä¹ æ¨¡æ€æ¡† -->
  <div id="practiceModal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-indigo-900/90 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full p-8 border border-indigo-700/50">
      
      <div class="text-center mb-8">
        <div id="practiceTitle" class="text-2xl font-bold mb-2"></div>
        <div id="timeDisplay" class="text-5xl font-bold text-yellow-400 mb-2">12:00</div>
        <div class="text-sm text-indigo-300">ä¿æŒæ”¾æ¾,éšæ—¶å¯ä»¥ç¡ç€</div>
      </div>

      <div id="currentGuide" class="bg-indigo-800/50 rounded-2xl p-6 mb-8 min-h-[120px]">
        <p class="text-indigo-100 text-center leading-relaxed"></p>
      </div>

      <div class="flex justify-center mb-6">
        <div class="w-16 h-16 bg-yellow-400/20 rounded-full flex items-center justify-center">
          <i class="fas fa-moon text-3xl text-yellow-400"></i>
        </div>
      </div>

      <button onclick="endPractice()" class="w-full bg-indigo-700/50 hover:bg-indigo-600/50 text-white py-3 rounded-xl font-medium transition-all">
        <i class="fas fa-check mr-2"></i>ç»“æŸç»ƒä¹ 
      </button>

    </div>
  </div>

  <script>
    // ç”Ÿæˆæ˜Ÿç©º
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 100; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.width = Math.random() * 3 + 'px';
      star.style.height = star.style.width;
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.animationDelay = Math.random() * 3 + 's';
      starsContainer.appendChild(star);
    }

    let timer = null;
    let totalSeconds = 0;
    let remainingSeconds = 0;
    let currentPractice = null;

    const practices = {
      'body-scan': {
        title: 'èº«ä½“æ‰«ææ”¾æ¾',
        duration: 720,
        guides: [
          { time: 0, text: 'è½»è½»é—­ä¸Šçœ¼ç›,è®©èº«ä½“å®Œå…¨æ”¾æ¾åœ¨åºŠä¸Š...' },
          { time: 60, text: 'æ³¨æ„ä½ çš„å¤´éƒ¨...é¢å¤´ã€çœ¼ç›ã€è„¸é¢Š...è®©æ‰€æœ‰ç´§å¼ æ¶ˆæ•£...' },
          { time: 120, text: 'æ”¾æ¾ä½ çš„é¢ˆéƒ¨å’Œè‚©è†€...æ„Ÿå—å®ƒä»¬å˜å¾—è¶Šæ¥è¶Šæ²‰é‡...' },
          { time: 180, text: 'æ„Ÿå—ä½ çš„åŒè‡‚...ä»è‚©è†€åˆ°æ‰‹æŒ‡å°–...å®Œå…¨æ”¾æ¾...' },
          { time: 300, text: 'æ³¨æ„ä½ çš„èƒ¸éƒ¨å’Œè…¹éƒ¨...éšç€å‘¼å¸è½»æŸ”åœ°èµ·ä¼...' },
          { time: 420, text: 'æ”¾æ¾ä½ çš„è‡€éƒ¨å’ŒåŒè…¿...æ„Ÿå—å®ƒä»¬æ²‰å…¥åºŠå«...' },
          { time: 540, text: 'æœ€å,æ”¾æ¾ä½ çš„åŒè„š...æ•´ä¸ªèº«ä½“éƒ½å·²å®Œå…¨æ”¾æ¾...' },
          { time: 660, text: 'äº«å—è¿™ä»½å®Œå…¨çš„æ”¾æ¾...éšæ—¶å¯ä»¥è¿›å…¥æ¢¦ä¹¡...' }
        ]
      },
      'breath-counting': {
        title: 'æ•°æ¯åŠ©çœ ',
        duration: 600,
        guides: [
          { time: 0, text: 'æ‰¾ä¸€ä¸ªèˆ’é€‚çš„å§¿åŠ¿,è½»è½»é—­ä¸Šçœ¼ç›...' },
          { time: 30, text: 'å¼€å§‹æ•°ä½ çš„å‘¼å¸...å¸æ°”æ—¶æ•°1,å‘¼æ°”æ—¶æ•°2...' },
          { time: 120, text: 'ç»§ç»­æ•°åˆ°10,ç„¶åä»1é‡æ–°å¼€å§‹...' },
          { time: 240, text: 'å¦‚æœå¿˜è®°æ•°åˆ°å“ªäº†,æ¸©æŸ”åœ°ä»1é‡æ–°å¼€å§‹...' },
          { time: 360, text: 'è®©å‘¼å¸å˜å¾—è¶Šæ¥è¶Šç¼“æ…¢...è¶Šæ¥è¶Šè½»æŸ”...' },
          { time: 480, text: 'æ€ç»ªåœ¨æ…¢æ…¢å®‰é™...èº«ä½“åœ¨æ…¢æ…¢æ²‰é‡...' }
        ]
      },
      'visualization': {
        title: 'å¹³é™æƒ³è±¡',
        duration: 480,
        guides: [
          { time: 0, text: 'æƒ³è±¡ä½ åœ¨ä¸€ä¸ªå®é™çš„æµ·æ»©...å¬ç€æ¸©æŸ”çš„æµ·æµªå£°...' },
          { time: 90, text: 'æ„Ÿå—æ¸©æš–çš„æ²™å­...å¾®é£è½»æŠšè„¸é¢Š...' },
          { time: 180, text: 'çœ‹ç€å¤©ç©ºä¸­ç¼“æ…¢é£˜è¿‡çš„äº‘æœµ...' },
          { time: 270, text: 'ä¸€åˆ‡éƒ½æ˜¯é‚£ä¹ˆå¹³é™ã€å®‰å…¨ã€èˆ’é€‚...' },
          { time: 360, text: 'è®©è¿™ä»½å®é™åŒ…å›´ä½ ...å¸¦ä½ è¿›å…¥æ¢¦ä¹¡...' }
        ]
      },
      'gratitude-sleep': {
        title: 'æ„Ÿæ©å…¥çœ ',
        duration: 300,
        guides: [
          { time: 0, text: 'å›æƒ³ä»Šå¤©å‘ç”Ÿçš„ä¸‰ä»¶å¥½äº‹...' },
          { time: 60, text: 'ä¹Ÿè®¸æ˜¯ä¸€ä¸ªå¾®ç¬‘,ä¸€å¥æ¸©æš–çš„è¯,ä¸€ä¸ªå°å°çš„æˆå°±...' },
          { time: 120, text: 'æ„Ÿè°¢ä½ çš„èº«ä½“é™ªä¼´ä½ åº¦è¿‡äº†è¿™ä¸€å¤©...' },
          { time: 180, text: 'æ„Ÿè°¢æ­¤åˆ»èˆ’é€‚çš„åºŠé“ºå’Œå®‰å…¨çš„ç¯å¢ƒ...' },
          { time: 240, text: 'å¸¦ç€è¿™ä»½æ„Ÿæ©,å®‰å¿ƒå…¥ç¡...' }
        ]
      }
    };

    function startPractice(practiceId) {
      currentPractice = practices[practiceId];
      totalSeconds = currentPractice.duration;
      remainingSeconds = totalSeconds;

      document.getElementById('practiceTitle').textContent = currentPractice.title;
      document.getElementById('practiceModal').classList.remove('hidden');
      
      updateDisplay();
      startTimer();
    }

    function startTimer() {
      timer = setInterval(() => {
        if (remainingSeconds > 0) {
          remainingSeconds--;
          updateDisplay();
          updateGuide();
        } else {
          endPractice(true);
        }
      }, 1000);
    }

    function updateDisplay() {
      const mins = Math.floor(remainingSeconds / 60);
      const secs = remainingSeconds % 60;
      document.getElementById('timeDisplay').textContent = 
        `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    function updateGuide() {
      const elapsed = totalSeconds - remainingSeconds;
      const guide = currentPractice.guides.filter(g => g.time <= elapsed).pop();
      
      if (guide) {
        document.querySelector('#currentGuide p').textContent = guide.text;
      }
    }

    function endPractice(auto = false) {
      clearInterval(timer);
      savePracticeRecord();
      
      if (!auto) {
        alert('ğŸ’¤ ç»ƒä¹ ç»“æŸ,ç¥ä½ å¥½æ¢¦!');
      }
      
      document.getElementById('practiceModal').classList.add('hidden');
    }

    function savePracticeRecord() {
      const record = {
        id: Date.now(),
        title: currentPractice.title,
        category: 'body',
        duration: Math.floor((totalSeconds - remainingSeconds) / 60),
        date: new Date().toISOString(),
        timestamp: Date.now()
      };

      const history = JSON.parse(localStorage.getItem('practiceHistory') || '[]');
      history.push(record);
      localStorage.setItem('practiceHistory', JSON.stringify(history));
    }
  </script>

</body>
</html>
