/* æ—¥å†çƒ­åŠ›å›¾ */
    .calendar-heatmap {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 2px;
    }

    .calendar-day {
      aspect-ratio: 1;
      border-radius: 2px;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .calendar-day:hover {
      transform: scale(1.1);
    }

    .calendar-day.level-0 { background-color: #ebedf0; }
    .calendar-day.level-1 { background-color: #c6e48b; }
    .calendar-day.level-2 { background-color: #7bc96f; }
    .calendar-day.level-3 { background-color: #239a3b; }
    .calendar-day.level-4 { background-color: #196127; }

    /* æ¨¡æ€æ¡† */
    .modal {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
      animation: modalSlideUp 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    @keyframes modalSlideUp {
      from {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Toast æ ·å¼ */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #4A6157, #8FD9A8);
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      z-index: 1000;
      transform: translateX(120%);
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      box-shadow: 0 8px 32px rgba(74, 97, 87, 0.3);
    }

    .toast.show {
      transform: translateX(0);
    }

    /* æ ‡ç­¾æ ·å¼ */
    .practice-tag {
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 0.375rem;
      font-weight: 500;
    }

    .tag-breathing { background: rgba(59, 130, 246, 0.1); color: #1d4ed8; }
    .tag-body { background: rgba(34, 197, 94, 0.1); color: #15803d; }
    .tag-mindful { background: rgba(245, 158, 11, 0.1); color: #d97706; }
    .tag-emotion { background: rgba(236, 72, 153, 0.1); color: #be185d; }

    /* å½©å¸¦åº†ç¥åŠ¨ç”» */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #f0f;
      animation: confetti-fall 3s linear infinite;
      z-index: 9999;
    }

    .confetti:nth-child(1) { 
      background: #ff6b6b; 
      left: 10%; 
      animation-delay: 0s;
      animation-duration: 3s;
    }
    .confetti:nth-child(2) { 
      background: #4ecdc4; 
      left: 20%; 
      animation-delay: 0.5s;
      animation-duration: 2.5s;
    }
    .confetti:nth-child(3) { 
      background: #45b7d1; 
      left: 30%; 
      animation-delay: 1s;
      animation-duration: 3.5s;
    }
    .confetti:nth-child(4) { 
      background: #f9ca24; 
      left: 40%; 
      animation-delay: 0.3s;
      animation-duration: 2.8s;
    }
    .confetti:nth-child(5) { 
      background: #f0932b; 
      left: 50%; 
      animation-delay: 0.7s;
      animation-duration: 3.2s;
    }
    .confetti:nth-child(6) { 
      background: #eb4d4b; 
      left: 60%; 
      animation-delay: 1.2s;
      animation-duration: 2.7s;
    }
    .confetti:nth-child(7) { 
      background: #6c5ce7; 
      left: 70%; 
      animation-delay: 0.2s;
      animation-duration: 3.1s;
    }
    .confetti:nth-child(8) { 
      background: #a29bfe; 
      left: 80%; 
      animation-delay: 0.9s;
      animation-duration: 2.9s;
    }
    .confetti:nth-child(9) { 
      background: #fd79a8; 
      left: 90%; 
      animation-delay: 1.5s;
      animation-duration: 3.3s;
    }
    .confetti:nth-child(10) { 
      background: #00b894; 
      left: 15%; 
      animation-delay: 0.4s;
      animation-duration: 2.6s;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      10% {
        transform: translateY(-90vh) rotate(36deg);
        opacity: 1;
      }
      20% {
        transform: translateY(-80vh) rotate(72deg);
        opacity: 1;
      }
      30% {
        transform: translateY(-70vh) rotate(108deg);
        opacity: 1;
      }
      40% {
        transform: translateY(-60vh) rotate(144deg);
        opacity: 1;
      }
      50% {
        transform: translateY(-50vh) rotate(180deg);
        opacity: 1;
      }
      60% {
        transform: translateY(-40vh) rotate(216deg);
        opacity: 1;
      }
      70% {
        transform: translateY(-30vh) rotate(252deg);
        opacity: 1;
      }
      80% {
        transform: translateY(-20vh) rotate(288deg);
        opacity: 0.8;
      }
      90% {
        transform: translateY(-10vh) rotate(324deg);
        opacity: 0.5;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* å½©å¸¦çš„ä¸åŒå½¢çŠ¶ */
    .confetti.square {
      border-radius: 0;
    }
    .confetti.circle {
      border-radius: 50%;
    }
    .confetti.triangle {
      width: 0;
      height: 0;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-bottom: 10px solid;
    }

    /* æˆå°±å¾½ç« é—ªçƒæ•ˆæœ */
    @keyframes achievement-glow {
      0%, 100% { 
        box-shadow: 0 0 5px rgba(74, 97, 87, 0.3);
      }
      50% { 
        box-shadow: 0 0 20px rgba(74, 97, 87, 0.6);
      }
    }

    .achievement-badge {
      animation: achievement-glow 2s ease-in-out infinite;
    }

    /* ç©ºçŠ¶æ€ */
    .empty-state {
      opacity: 0.7;
    }
  </style>
</head>

<body class="bg-secondary font-sans min-h-screen">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 backdrop-blur-md bg-white/90">
    <div class="max-w-6xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <a href="daily_practice.html" class="flex items-center text-primary hover:text-mint transition-all duration-300 group">
            <span class="mr-2 transition-transform group-hover:-translate-x-1">â†</span>
            <span class="font-medium">è¿”å›ç»ƒä¹ </span>
          </a>
        </div>
        <div class="flex items-center space-x-2">
          <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center">
            <i class="fa fa-chart-line text-white text-sm"></i>
          </div>
          <span class="text-lg font-bold text-primary">ç»ƒä¹ è®°å½•</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Toast æç¤º -->
  <div id="toast" class="toast">
    <div class="flex items-center">
      <span class="mr-2">âœ“</span>
      <span id="toastMessage"></span>
    </div>
  </div>

  <main class="max-w-6xl mx-auto px-4 py-8">
    <div class="page-content">
      
      <!-- é¡µé¢æ ‡é¢˜ -->
      <div class="text-center mb-8">
        <h1 class="text-2xl md:text-3xl font-bold text-primary mb-2">ç»ƒä¹ è®°å½•ä¸ç»Ÿè®¡</h1>
        <p class="text-content">è¿½è¸ªä½ çš„ç»ƒä¹ è¿›å±•ï¼Œè§è¯æˆé•¿è½¨è¿¹</p>
      </div>

      <!-- ç»Ÿè®¡æ¦‚è§ˆ -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <div class="stat-card bg-white rounded-xl p-6 shadow-sm text-center">
          <div class="text-3xl font-bold text-primary mb-2" id="totalPractices">0</div>
          <div class="text-sm text-gray-600">æ€»ç»ƒä¹ æ¬¡æ•°</div>
        </div>
        
        <div class="stat-card bg-white rounded-xl p-6 shadow-sm text-center">
          <div class="text-3xl font-bold text-mint mb-2" id="totalMinutes">0</div>
          <div class="text-sm text-gray-600">æ€»ç»ƒä¹ æ—¶é•¿(åˆ†é’Ÿ)</div>
        </div>
        
        <div class="stat-card bg-white rounded-xl p-6 shadow-sm text-center">
          <div class="text-3xl font-bold text-accent mb-2" id="currentStreak">0</div>
          <div class="text-sm text-gray-600">å½“å‰è¿ç»­å¤©æ•°</div>
        </div>
        
        <div class="stat-card bg-white rounded-xl p-6 shadow-sm text-center">
          <div class="text-3xl font-bold text-yellow-600 mb-2" id="thisWeek">0</div>
          <div class="text-sm text-gray-600">æœ¬å‘¨ç»ƒä¹ æ¬¡æ•°</div>
        </div>
      </div>

      <!-- ç»ƒä¹ çƒ­åŠ›å›¾ -->
      <div class="bg-white rounded-2xl p-6 shadow-sm mb-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-xl font-semibold text-primary">ç»ƒä¹ æ´»è·ƒåº¦</h2>
          <div class="flex items-center space-x-2 text-sm text-gray-500">
            <span>å°‘</span>
            <div class="calendar-day level-0 w-3 h-3"></div>
            <div class="calendar-day level-1 w-3 h-3"></div>
            <div class="calendar-day level-2 w-3 h-3"></div>
            <div class="calendar-day level-3 w-3 h-3"></div>
            <div class="calendar-day level-4 w-3 h-3"></div>
            <span>å¤š</span>
          </div>
        </div>
        
        <!-- æœˆä»½å¯¼èˆª -->
        <div class="flex items-center justify-between mb-4">
          <button id="prevMonth" class="p-2 rounded-lg hover:bg-gray-100">
            <i class="fa fa-chevron-left text-gray-500"></i>
          </button>
          <h3 id="currentMonth" class="text-lg font-medium text-primary">2024å¹´11æœˆ</h3>
          <button id="nextMonth" class="p-2 rounded-lg hover:bg-gray-100">
            <i class="fa fa-chevron-right text-gray-500"></i>
          </button>
        </div>
        
        <!-- æ˜ŸæœŸæ ‡é¢˜ -->
        <div class="grid grid-cols-7 gap-2 mb-2">
          <div class="text-xs text-gray-500 text-center py-1">æ—¥</div>
          <div class="text-xs text-gray-500 text-center py-1">ä¸€</div>
          <div class="text-xs text-gray-500 text-center py-1">äºŒ</div>
          <div class="text-xs text-gray-500 text-center py-1">ä¸‰</div>
          <div class="text-xs text-gray-500 text-center py-1">å››</div>
          <div class="text-xs text-gray-500 text-center py-1">äº”</div>
          <div class="text-xs text-gray-500 text-center py-1">å…­</div>
        </div>
        
        <!-- æ—¥å†ç½‘æ ¼ -->
        <div id="calendarGrid" class="calendar-heatmap">
          <!-- åŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>

      <!-- åˆ†ç±»ç»Ÿè®¡å’Œè®°å½•åˆ—è¡¨ -->
      <div class="grid lg:grid-cols-3 gap-8">
        
        <!-- åˆ†ç±»ç»Ÿè®¡ -->
        <div class="bg-white rounded-2xl p-6 shadow-sm">
          <h2 class="text-xl font-semibold text-primary mb-6">ç»ƒä¹ åˆ†ç±»ç»Ÿè®¡</h2>
          
          <div class="space-y-4">
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="w-4 h-4 rounded bg-blue-500 mr-3"></div>
                <span class="text-sm">å‘¼å¸å†¥æƒ³</span>
              </div>
              <div class="flex items-center">
                <span class="text-sm font-medium mr-2" id="breathingCount">0</span>
                <div class="w-16 h-2 bg-gray-200 rounded-full">
                  <div id="breathingBar" class="h-2 bg-blue-500 rounded-full" style="width: 0%"></div>
                </div>
              </div>
            </div>
            
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="w-4 h-4 rounded bg-green-500 mr-3"></div>
                <span class="text-sm">èº«ä½“è§‰å¯Ÿ</span>
              </div>
              <div class="flex items-center">
                <span class="text-sm font-medium mr-2" id="bodyCount">0</span>
                <div class="w-16 h-2 bg-gray-200 rounded-full">
                  <div id="bodyBar" class="h-2 bg-green-500 rounded-full" style="width: 0%"></div>
                </div>
              </div>
            </div>
            
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="w-4 h-4 rounded bg-yellow-500 mr-3"></div>
                <span class="text-sm">æ­£å¿µç»ƒä¹ </span>
              </div>
              <div class="flex items-center">
                <span class="text-sm font-medium mr-2" id="mindfulCount">0</span>
                <div class="w-16 h-2 bg-gray-200 rounded-full">
                  <div id="mindfulBar" class="h-2 bg-yellow-500 rounded-full" style="width: 0%"></div>
                </div>
              </div>
            </div>
            
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="w-4 h-4 rounded bg-pink-500 mr-3"></div>
                <span class="text-sm">æƒ…ç»ªè°ƒèŠ‚</span>
              </div>
              <div class="flex items-center">
                <span class="text-sm font-medium mr-2" id="emotionCount">0</span>
                <div class="w-16 h-2 bg-gray-200 rounded-full">
                  <div id="emotionBar" class="h-2 bg-pink-500 rounded-full" style="width: 0%"></div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- æœ€çˆ±ç»ƒä¹  -->
          <div class="mt-6 pt-6 border-t border-gray-100">
            <h3 class="text-sm font-medium text-gray-700 mb-3">æœ€çˆ±ç»ƒä¹ </h3>
            <div id="favoritePractice" class="text-sm text-gray-500">æš‚æ— æ•°æ®</div>
          </div>
        </div>

        <!-- ç»ƒä¹ è®°å½•åˆ—è¡¨ -->
        <div class="lg:col-span-2">
          <div class="bg-white rounded-2xl p-6 shadow-sm">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-xl font-semibold text-primary">æœ€è¿‘ç»ƒä¹ </h2>
              
              <!-- ç­›é€‰å’Œæ’åº -->
              <div class="flex items-center space-x-3">
                <select id="categoryFilter" class="text-sm border border-gray-300 rounded-lg px-3 py-1">
                  <option value="all">å…¨éƒ¨åˆ†ç±»</option>
                  <option value="breathing">å‘¼å¸å†¥æƒ³</option>
                  <option value="body">èº«ä½“è§‰å¯Ÿ</option>
                  <option value="mindful">æ­£å¿µç»ƒä¹ </option>
                  <option value="emotion">æƒ…ç»ªè°ƒèŠ‚</option>
                </select>
                
                <select id="sortBy" class="text-sm border border-gray-300 rounded-lg px-3 py-1">
                  <option value="date">æŒ‰æ—¶é—´æ’åº</option>
                  <option value="duration">æŒ‰æ—¶é•¿æ’åº</option>
                  <option value="type">æŒ‰ç±»å‹æ’åº</option>
                </select>
              </div>
            </div>
            
            <!-- è®°å½•åˆ—è¡¨ -->
            <div id="recordsList" class="space-y-4">
              <!-- åŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- åŠ è½½æ›´å¤š -->
            <div class="text-center mt-6">
              <button id="loadMore" class="btn-secondary px-6 py-2 rounded-lg text-sm hidden">
                åŠ è½½æ›´å¤š
              </button>
            </div>
            
            <!-- ç©ºçŠ¶æ€ -->
            <div id="emptyState" class="empty-state text-center py-12 hidden">
              <div class="text-6xl mb-4">ğŸ“Š</div>
              <h3 class="text-lg font-semibold text-gray-700 mb-2">è¿˜æ²¡æœ‰ç»ƒä¹ è®°å½•</h3>
              <p class="text-gray-500 mb-6">å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡ç»ƒä¹ ï¼Œå»ºç«‹å¥åº·çš„ä¹ æƒ¯</p>
              <a href="daily_practice.html" class="btn-primary text-white px-6 py-3 rounded-lg inline-block">
                å¼€å§‹ç»ƒä¹ 
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- å¯¼å‡ºå’Œç®¡ç† -->
      <div class="mt-8 bg-white rounded-2xl p-6 shadow-sm">
        <h2 class="text-xl font-semibold text-primary mb-6">æ•°æ®ç®¡ç†</h2>
        
        <div class="grid md:grid-cols-3 gap-4">
          <button onclick="exportData()" class="btn-secondary p-4 rounded-lg text-center">
            <i class="fa fa-download text-xl mb-2"></i>
            <div class="font-medium">å¯¼å‡ºæ•°æ®</div>
            <div class="text-xs text-gray-500">ä¸‹è½½CSVæ ¼å¼</div>
          </button>
          
          <button onclick="shareProgress()" class="btn-secondary p-4 rounded-lg text-center">
            <i class="fa fa-share text-xl mb-2"></i>
            <div class="font-medium">åˆ†äº«è¿›å±•</div>
            <div class="text-xs text-gray-500">ç”Ÿæˆåˆ†äº«å›¾ç‰‡</div>
          </button>
          
          <button onclick="clearData()" class="btn-secondary p-4 rounded-lg text-center border-red-300 text-red-600 hover:bg-red-50">
            <i class="fa fa-trash text-xl mb-2"></i>
            <div class="font-medium">æ¸…é™¤æ•°æ®</div>
            <div class="text-xs text-gray-500">è°¨æ…æ“ä½œ</div>
          </button>
        </div>
      </div>

    </div>
  </main>

  <!-- ç»ƒä¹ è¯¦æƒ…æ¨¡æ€æ¡† -->
  <div id="recordModal" class="modal fixed inset-0 z-50 hidden">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="modal-content bg-white rounded-2xl shadow-xl max-w-md w-full p-6">
        <div class="flex items-center justify-between mb-4">
          <h3 id="modalTitle" class="text-xl font-semibold text-primary">ç»ƒä¹ è¯¦æƒ…</h3>
          <button onclick="closeRecordModal()" class="text-gray-400 hover:text-gray-600">
            <i class="fa fa-times text-xl"></i>
          </button>
        </div>
        
        <div id="modalContent" class="space-y-4">
          <!-- åŠ¨æ€å†…å®¹ -->
        </div>
        
        <div class="flex space-x-3 mt-6">
          <button onclick="closeRecordModal()" class="flex-1 btn-secondary py-3 rounded-lg">
            å…³é—­
          </button>
          <button id="deleteRecord" class="btn-secondary border-red-300 text-red-600 px-4 py-3 rounded-lg">
            åˆ é™¤
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // å…¨å±€å˜é‡
    let currentDisplayMonth = new Date();
    let practiceHistory = [];
    let currentPage = 1;
    const recordsPerPage = 10;

    // Toast æç¤ºåŠŸèƒ½
    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      toastMessage.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // å½©å¸¦åº†ç¥åŠ¨ç”»
    function showConfettiCelebration() {
      // åˆ›å»ºå½©å¸¦å®¹å™¨
      const confettiContainer = document.createElement('div');
      confettiContainer.style.position = 'fixed';
      confettiContainer.style.top = '0';
      confettiContainer.style.left = '0';
      confettiContainer.style.width = '100%';
      confettiContainer.style.height = '100%';
      confettiContainer.style.pointerEvents = 'none';
      confettiContainer.style.zIndex = '9999';
      
      // åˆ›å»ºå¤šä¸ªå½©å¸¦
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f0932b', '#eb4d4b', '#6c5ce7', '#a29bfe', '#fd79a8', '#00b894'];
      const shapes = ['square', 'circle', 'triangle'];
      
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = `confetti ${shapes[Math.floor(Math.random() * shapes.length)]}`;
        
        // éšæœºä½ç½®å’Œé¢œè‰²
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 2 + 's';
        confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
        
        // éšæœºå¤§å°
        const size = Math.random() * 8 + 4;
        confetti.style.width = size + 'px';
        confetti.style.height = size + 'px';
        
        // ä¸‰è§’å½¢ç‰¹æ®Šå¤„ç†
        if (confetti.classList.contains('triangle')) {
          confetti.style.borderBottomColor = confetti.style.backgroundColor;
          confetti.style.backgroundColor = 'transparent';
        }
        
        confettiContainer.appendChild(confetti);
      }
      
      document.body.appendChild(confettiContainer);
      
      // 4ç§’åæ¸…é™¤å½©å¸¦
      setTimeout(() => {
        if (document.body.contains(confettiContainer)) {
          document.body.removeChild(confettiContainer);
        }
      }, 4000);
      
      // æ’­æ”¾åº†ç¥éŸ³æ•ˆï¼ˆå¦‚æœæ”¯æŒï¼‰
      playSuccessSound();
    }

    // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ
    function playSuccessSound() {
      try {
        // åˆ›å»ºç®€å•çš„æˆåŠŸéŸ³æ•ˆ
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // åˆ›å»ºéŸ³ç¬¦åºåˆ—ï¼ˆCå¤§è°ƒå’Œå¼¦ï¼‰
        const notes = [523.25, 659.25, 783.99]; // C5, E5, G5
        
        notes.forEach((freq, index) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          oscillator.frequency.value = freq;
          oscillator.type = 'sine';
          
          gainNode.gain.setValueAtTime(0, audioContext.currentTime + index * 0.1);
          gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + index * 0.1 + 0.05);
          gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.1 + 0.3);
          
          oscillator.start(audioContext.currentTime + index * 0.1);
          oscillator.stop(audioContext.currentTime + index * 0.1 + 0.3);
        });
      } catch (error) {
        console.log('Audio not supported');
      }
    }

    // æ£€æŸ¥æˆå°±å¹¶åº†ç¥
    function checkAchievements() {
      const total = practiceHistory.length;
      const streak = calculateStreak();
      const milestones = [1, 5, 10, 20, 30, 50, 100];
      
      // æ£€æŸ¥ç»ƒä¹ æ¬¡æ•°é‡Œç¨‹ç¢‘
      if (milestones.includes(total)) {
        showAchievementAlert(total, 'practice');
      }
      
      // æ£€æŸ¥è¿ç»­å¤©æ•°é‡Œç¨‹ç¢‘
      const streakMilestones = [3, 7, 14, 30, 60, 100];
      if (streakMilestones.includes(streak)) {
        showAchievementAlert(streak, 'streak');
      }
    }

    // æ˜¾ç¤ºæˆå°±æé†’
    function showAchievementAlert(number, type) {
      const messages = {
        practice: {
          1: 'ğŸ‰ å®Œæˆé¦–æ¬¡ç»ƒä¹ ï¼',
          5: 'ğŸŒŸ å·²å®Œæˆ5æ¬¡ç»ƒä¹ ï¼',
          10: 'ğŸ† ç»ƒä¹ è¾¾äººï¼å®Œæˆ10æ¬¡ç»ƒä¹ ',
          20: 'ğŸ’ åšæŒä¸æ‡ˆï¼å®Œæˆ20æ¬¡ç»ƒä¹ ',
          30: 'ğŸ”¥ ç»ƒä¹ ä¸“å®¶ï¼å®Œæˆ30æ¬¡ç»ƒä¹ ',
          50: 'ğŸ‘‘ ç»ƒä¹ å¤§å¸ˆï¼å®Œæˆ50æ¬¡ç»ƒä¹ ',
          100: 'ğŸš€ ç»ƒä¹ ä¼ å¥‡ï¼å®Œæˆ100æ¬¡ç»ƒä¹ ï¼'
        },
        streak: {
          3: 'ğŸ”¥ è¿ç»­3å¤©åšæŒç»ƒä¹ ï¼',
          7: 'â­ ä¸€å‘¨è¿ç»­ç»ƒä¹ ï¼å¤ªæ£’äº†ï¼',
          14: 'ğŸ’ª ä¸¤å‘¨è¿ç»­ç»ƒä¹ ï¼ä¹ æƒ¯æ­£åœ¨å…»æˆ',
          30: 'ğŸ† ä¸€ä¸ªæœˆè¿ç»­ç»ƒä¹ ï¼ä½ å¤ªå‰å®³äº†ï¼',
          60: 'ğŸ‘‘ ä¸¤ä¸ªæœˆè¿ç»­ç»ƒä¹ ï¼ç»ƒä¹ å¤§å¸ˆï¼',
          100: 'ğŸŒŸ 100å¤©è¿ç»­ç»ƒä¹ ï¼ä¼ å¥‡æˆå°±ï¼'
        }
      };
      
      const message = messages[type][number];
      if (message) {
        showConfettiCelebration();
        setTimeout(() => {
          showToast(message);
        }, 500);
      }
    }

    // åŠ è½½ç»ƒä¹ æ•°æ®
    function loadPracticeData() {
      // ä»localStorageåŠ è½½ä¸åŒç±»å‹çš„ç»ƒä¹ è®°å½•
      const generalPractices = JSON.parse(localStorage.getItem('practiceHistory') || '[]');
      const mindfulEating = JSON.parse(localStorage.getItem('mindfulEatingRecords') || '[]');
      
      // åˆå¹¶å¹¶æ ‡å‡†åŒ–æ•°æ®æ ¼å¼
      practiceHistory = [
        ...generalPractices.map(p => ({
          id: p.id || Date.now(),
          title: p.title,
          category: getCategoryFromTitle(p.title),
          date: p.date,
          duration: p.duration || 5,
          type: 'general'
        })),
        ...mindfulEating.map(p => ({
          id: p.id,
          title: `æ­£å¿µé¥®é£Ÿï¼š${p.food}`,
          category: 'mindful',
          date: p.startTime,
          duration: p.duration,
          type: 'mindfulEating',
          details: p
        }))
      ].sort((a, b) => new Date(b.date) - new Date(a.date));
    }

    // ä»æ ‡é¢˜æ¨æ–­åˆ†ç±»
    function getCategoryFromTitle(title) {
      if (title.includes('å‘¼å¸') || title.includes('å†¥æƒ³')) return 'breathing';
      if (title.includes('èº«ä½“') || title.includes('æ‰«æ') || title.includes('æ”¾æ¾')) return 'body';
      if (title.includes('æ­£å¿µ') || title.includes('é¥®é£Ÿ') || title.includes('æ„Ÿæ©')) return 'mindful';
      if (title.includes('æƒ…ç»ª') || title.includes('æ…ˆæ‚²') || title.includes('è‡ªæˆ‘')) return 'emotion';
      return 'other';
    }

    // æ›´æ–°ç»Ÿè®¡æ•°æ®
    function updateStatistics() {
      const total = practiceHistory.length;
      const totalMinutes = practiceHistory.reduce((sum, p) => sum + (p.duration || 0), 0);
      
      document.getElementById('totalPractices').textContent = total;
      document.getElementById('totalMinutes').textContent = totalMinutes;
      
      // è®¡ç®—è¿ç»­å¤©æ•°
      const streak = calculateStreak();
      document.getElementById('currentStreak').textContent = streak;
      
      // æœ¬å‘¨ç»ƒä¹ æ¬¡æ•°
      const thisWeek = calculateThisWeek();
      document.getElementById('thisWeek').textContent = thisWeek;
      
      // åˆ†ç±»ç»Ÿè®¡
      updateCategoryStats();
    }

    // è®¡ç®—è¿ç»­å¤©æ•°
    function calculateStreak() {
      if (practiceHistory.length === 0) return 0;
      
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      let streak = 0;
      let currentDate = new Date(today);
      
      for (let i = 0; i < 365; i++) {
        const dateStr = currentDate.toDateString();
        const hasPractice = practiceHistory.some(p => 
          new Date(p.date).toDateString() === dateStr
        );
        
        if (hasPractice) {
          streak++;
        } else {
          break;
        }
        
        currentDate.setDate(currentDate.getDate() - 1);
      }
      
      return streak;
    }

    // è®¡ç®—æœ¬å‘¨ç»ƒä¹ æ¬¡æ•°
    function calculateThisWeek() {
      const now = new Date();
      const startOfWeek = new Date(now);
      startOfWeek.setDate(now.getDate() - now.getDay());
      startOfWeek.setHours(0, 0, 0, 0);
      
      return practiceHistory.filter(p => 
        new Date(p.date) >= startOfWeek
      ).length;
    }

    // æ›´æ–°åˆ†ç±»ç»Ÿè®¡
    function updateCategoryStats() {
      const categories = ['breathing', 'body', 'mindful', 'emotion'];
      const counts = {};
      let maxCount = 0;
      
      categories.forEach(cat => {
        counts[cat] = practiceHistory.filter(p => p.category === cat).length;
        maxCount = Math.max(maxCount, counts[cat]);
      });
      
      categories.forEach(cat => {
        const countEl = document.getElementById(`${cat}Count`);
        const barEl = document.getElementById(`${cat}Bar`);
        
        if (countEl && barEl) {
          countEl.textContent = counts[cat];
          const percentage = maxCount > 0 ? (counts[cat] / maxCount) * 100 : 0;
          barEl.style.width = `${percentage}%`;
        }
      });
      
      // æœ€çˆ±ç»ƒä¹ 
      const favoriteEl = document.getElementById('favoritePractice');
      if (maxCount > 0) {
        const favoriteCategory = categories.find(cat => counts[cat] === maxCount);
        const categoryNames = {
          breathing: 'å‘¼å¸å†¥æƒ³',
          body: 'èº«ä½“è§‰å¯Ÿ',
          mindful: 'æ­£å¿µç»ƒä¹ ',
          emotion: 'æƒ…ç»ªè°ƒèŠ‚'
        };
        favoriteEl.textContent = `${categoryNames[favoriteCategory]} (${maxCount}æ¬¡)`;
      } else {
        favoriteEl.textContent = 'æš‚æ— æ•°æ®';
      }
    }

    // ç”Ÿæˆæ—¥å†çƒ­åŠ›å›¾
    function generateCalendar() {
      const grid = document.getElementById('calendarGrid');
      const year = currentDisplayMonth.getFullYear();
      const month = currentDisplayMonth.getMonth();
      
      // æ›´æ–°æœˆä»½æ ‡é¢˜
      document.getElementById('currentMonth').textContent = 
        `${year}å¹´${month + 1}æœˆ`;
      
      // è·å–æœˆä»½çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      
      // è®¡ç®—éœ€è¦æ˜¾ç¤ºçš„å¤©æ•°ï¼ˆåŒ…æ‹¬ä¸Šæœˆæœ«å°¾å’Œä¸‹æœˆå¼€å¤´ï¼‰
      const startDate = new Date(firstDay);
      startDate.setDate(startDate.getDate() - firstDay.getDay());
      
      const endDate = new Date(lastDay);
      endDate.setDate(endDate.getDate() + (6 - lastDay.getDay()));
      
      // è®¡ç®—æ¯æ—¥ç»ƒä¹ æ¬¡æ•°
      const dailyCounts = {};
      practiceHistory.forEach(p => {
        const dateStr = new Date(p.date).toDateString();
        dailyCounts[dateStr] = (dailyCounts[dateStr] || 0) + 1;
      });
      
      // ç”Ÿæˆæ—¥å†æ ¼å­
      grid.innerHTML = '';
      const currentDate = new Date(startDate);
      
      while (currentDate <= endDate) {
        const dateStr = currentDate.toDateString();
        const count = dailyCounts[dateStr] || 0;
        const level = Math.min(4, count);
        const isCurrentMonth = currentDate.getMonth() === month;
        
        const dayEl = document.createElement('div');
        dayEl.className = `calendar-day level-${level} ${!isCurrentMonth ? 'opacity-30' : ''}`;
        dayEl.title = `${currentDate.getMonth() + 1}/${currentDate.getDate()}: ${count}æ¬¡ç»ƒä¹ `;
        dayEl.addEventListener('click', () => showDayDetails(new Date(currentDate)));
        
        grid.appendChild(dayEl);
        currentDate.setDate(currentDate.getDate() + 1);
      }
    }

    // æ˜¾ç¤ºæŸå¤©çš„ç»ƒä¹ è¯¦æƒ…
    function showDayDetails(date) {
      const dayPractices = practiceHistory.filter(p => 
        new Date(p.date).toDateString() === date.toDateString()
      );
      
      if (dayPractices.length === 0) {
        showToast(`${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥æ²¡æœ‰ç»ƒä¹ è®°å½•`);
        return;
      }
      
      const practiceList = dayPractices.map(p => 
        `â€¢ ${p.title} (${p.duration}åˆ†é’Ÿ)`
      ).join('\n');
      
      showToast(`${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥:\n${practiceList}`);
    }

    // æ¸²æŸ“ç»ƒä¹ è®°å½•åˆ—è¡¨
    function renderRecordsList(page = 1) {
      const recordsList = document.getElementById('recordsList');
      const emptyState = document.getElementById('emptyState');
      const loadMoreBtn = document.getElementById('loadMore');
      
      // è·å–ç­›é€‰æ¡ä»¶
      const categoryFilter = document.getElementById('categoryFilter').value;
      const sortBy = document.getElementById('sortBy').value;
      
      // ç­›é€‰è®°å½•
      let filteredRecords = practiceHistory;
      if (categoryFilter !== 'all') {
        filteredRecords = practiceHistory.filter(p => p.category === categoryFilter);
      }
      
      // æ’åº
      switch (sortBy) {
        case 'duration':
          filteredRecords.sort((a, b) => (b.duration || 0) - (a.duration || 0));
          break;
        case 'type':
          filteredRecords.sort((a, b) => a.title.localeCompare(b.title));
          break;
        default: // date
          filteredRecords.sort((a, b) => new Date(b.date) - new Date(a.date));
      }
      
      if (filteredRecords.length === 0) {
        recordsList.classList.add('hidden');
        emptyState.classList.remove('hidden');
        loadMoreBtn.classList.add('hidden');
        return;
      }
      
      recordsList.classList.remove('hidden');
      emptyState.classList.add('hidden');
      
      // åˆ†é¡µ
      const startIndex = (page - 1) * recordsPerPage;
      const endIndex = startIndex + recordsPerPage;
      const pageRecords = filteredRecords.slice(0, endIndex);
      
      // æ¸²æŸ“è®°å½•
      recordsList.innerHTML = pageRecords.map(record => {
        const date = new Date(record.date);
        const categoryClass = `tag-${record.category}`;
        const categoryName = getCategoryName(record.category);
        
        return `
          <div class="record-card bg-gray-50 rounded-lg p-4 hover:bg-gray-100" 
               onclick="showRecordDetail('${record.id}')">
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-medium text-gray-800">${record.title}</h3>
              <span class="practice-tag ${categoryClass}">${categoryName}</span>
            </div>
            
            <div class="flex items-center justify-between text-sm text-gray-500">
              <div class="flex items-center space-x-4">
                <span>
                  <i class="fa fa-calendar mr-1"></i>
                  ${date.toLocaleDateString('zh-CN')}
                </span>
                <span>
                  <i class="fa fa-clock-o mr-1"></i>
                  ${record.duration}åˆ†é’Ÿ
                </span>
              </div>
              <span>${date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}</span>
            </div>
          </div>
        `;
      }).join('');
      
      // æ˜¾ç¤º/éšè—åŠ è½½æ›´å¤šæŒ‰é’®
      if (endIndex < filteredRecords.length) {
        loadMoreBtn.classList.remove('hidden');
        loadMoreBtn.onclick = () => renderRecordsList(page + 1);
      } else {
        loadMoreBtn.classList.add('hidden');
      }
    }

    // è·å–åˆ†ç±»åç§°
    function getCategoryName(category) {
      const names = {
        breathing: 'å‘¼å¸å†¥æƒ³',
        body: 'èº«ä½“è§‰å¯Ÿ',
        mindful: 'æ­£å¿µç»ƒä¹ ',
        emotion: 'æƒ…ç»ªè°ƒèŠ‚'
      };
      return names[category] || 'å…¶ä»–';
    }

    // æ˜¾ç¤ºç»ƒä¹ è¯¦æƒ…
    function showRecordDetail(recordId) {
      const record = practiceHistory.find(p => p.id == recordId);
      if (!record) return;
      
      document.getElementById('modalTitle').textContent = record.title;
      
      const date = new Date(record.date);
      let content = `
        <div class="space-y-3">
          <div class="flex justify-between">
            <span class="text-gray-600">ç»ƒä¹ æ—¶é—´ï¼š</span>
            <span>${date.toLocaleString('zh-CN')}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">ç»ƒä¹ æ—¶é•¿ï¼š</span>
            <span>${record.duration}åˆ†é’Ÿ</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">ç»ƒä¹ åˆ†ç±»ï¼š</span>
            <span>${getCategoryName(record.category)}</span>
          </div>
      `;
      
      // å¦‚æœæ˜¯æ­£å¿µé¥®é£Ÿï¼Œæ˜¾ç¤ºæ›´å¤šè¯¦æƒ…
      if (record.type === 'mindfulEating' && record.details) {
        const details = record.details;
        content += `
          <div class="pt-3 border-t">
            <div class="text-sm font-medium text-gray-700 mb-2">ç»ƒä¹ è¯¦æƒ…ï¼š</div>
            <div class="text-sm text-gray-600 space-y-1">
              <div>é£Ÿç‰©ï¼š${details.food}</div>
              ${details.observations.visual ? `<div>è§†è§‰è§‚å¯Ÿï¼š${details.observations.visual}</div>` : ''}
              ${details.observations.smell ? `<div>å—…è§‰æ„Ÿå—ï¼š${details.observations.smell}</div>` : ''}
              ${details.observations.texture ? `<div>è§¦è§‰ä½“éªŒï¼š${details.observations.texture}</div>` : ''}
              ${details.observations.taste ? `<div>å‘³è§‰ä½“éªŒï¼š${details.observations.taste}</div>` : ''}
            </div>
          </div>
        `;
      }
      
      content += '</div>';
      document.getElementById('modalContent').innerHTML = content;
      
      // è®¾ç½®åˆ é™¤æŒ‰é’®
      document.getElementById('deleteRecord').onclick = () => deleteRecord(recordId);
      
      document.getElementById('recordModal').classList.remove('hidden');
    }

    // å…³é—­è¯¦æƒ…æ¨¡æ€æ¡†
    function closeRecordModal() {
      document.getElementById('recordModal').classList.add('hidden');
    }

    // åˆ é™¤ç»ƒä¹ è®°å½•
    function deleteRecord(recordId) {
      if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡ç»ƒä¹ è®°å½•å—ï¼Ÿ')) return;
      
      // ä»å¯¹åº”çš„å­˜å‚¨ä¸­åˆ é™¤
      const record = practiceHistory.find(p => p.id == recordId);
      if (record) {
        if (record.type === 'mindfulEating') {
          const records = JSON.parse(localStorage.getItem('mindfulEatingRecords') || '[]');
          const filtered = records.filter(r => r.id != recordId);
          localStorage.setItem('mindfulEatingRecords', JSON.stringify(filtered));
        } else {
          const records = JSON.parse(localStorage.getItem('practiceHistory') || '[]');
          const filtered = records.filter(r => r.id != recordId);
          localStorage.setItem('practiceHistory', JSON.stringify(filtered));
        }
      }
      
      closeRecordModal();
      loadPracticeData();
      updateStatistics();
      generateCalendar();
      renderRecordsList();
      showToast('ç»ƒä¹ è®°å½•å·²åˆ é™¤');
    }

    // å¯¼å‡ºæ•°æ®
    function exportData() {
      if (practiceHistory.length === 0) {
        showToast('æ²¡æœ‰å¯å¯¼å‡ºçš„æ•°æ®');
        return;
      }
      
      const headers = ['æ—¥æœŸ', 'æ—¶é—´', 'ç»ƒä¹ åç§°', 'åˆ†ç±»', 'æ—¶é•¿(åˆ†é’Ÿ)'];
      const csvData = practiceHistory.map(record => {
        const date = new Date(record.date);
        return [
          date.toLocaleDateString('zh-CN'),
          date.toLocaleTimeString('zh-CN'),
          record.title,
          getCategoryName(record.category),
          record.duration || 0
        ];
      });
      
      const csvContent = [headers, ...csvData]
        .map(row => row.map(cell => `"${cell}"`).join(','))
        .join('\n');
      
      const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = `MindFitç»ƒä¹ è®°å½•_${new Date().toISOString().slice(0, 10)}.csv`;
      a.click();
      
      URL.revokeObjectURL(url);
      showToast('æ•°æ®å¯¼å‡ºæˆåŠŸ');
    }

    // åˆ†äº«è¿›å±•
    function shareProgress() {
      const total = practiceHistory.length;
      const streak = calculateStreak();
      const thisWeek = calculateThisWeek();
      
      // ğŸ‰ å¦‚æœæ•°æ®å¾ˆä¼˜ç§€ï¼Œæ˜¾ç¤ºåº†ç¥åŠ¨ç”»
      if (total >= 10 || streak >= 7) {
        showConfettiCelebration();
      }
      
      const text = `æˆ‘åœ¨MindFitä¸Šå·²ç»å®Œæˆäº†${total}æ¬¡ç»ƒä¹ ï¼Œè¿ç»­${streak}å¤©åšæŒï¼Œæœ¬å‘¨ç»ƒä¹ ${thisWeek}æ¬¡ï¼æ­£å¿µç»ƒä¹ è®©æˆ‘æ›´åŠ å…³æ³¨èº«å¿ƒå¥åº·ã€‚`;
      
      if (navigator.share) {
        navigator.share({
          title: 'MindFitç»ƒä¹ è¿›å±•',
          text: text,
          url: window.location.origin
        }).catch(console.error);
      } else {
        if (navigator.clipboard) {
          navigator.clipboard.writeText(text).then(() => {
            showToast('åˆ†äº«æ–‡æœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
          });
        } else {
          showToast('åˆ†äº«åŠŸèƒ½æš‚ä¸å¯ç”¨');
        }
      }
    }

    // æ¸…é™¤æ‰€æœ‰æ•°æ®
    function clearData() {
      if (!confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰ç»ƒä¹ æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) return;
      
      localStorage.removeItem('practiceHistory');
      localStorage.removeItem('mindfulEatingRecords');
      
      practiceHistory = [];
      updateStatistics();
      generateCalendar();
      renderRecordsList();
      
      showToast('æ‰€æœ‰æ•°æ®å·²æ¸…é™¤');
    }

    // æœˆä»½å¯¼èˆª
    function initMonthNavigation() {
      document.getElementById('prevMonth').addEventListener('click', () => {
        currentDisplayMonth.setMonth(currentDisplayMonth.getMonth() - 1);
        generateCalendar();
      });
      
      document.getElementById('nextMonth').addEventListener('click', () => {
        currentDisplayMonth.setMonth(currentDisplayMonth.getMonth() + 1);
        generateCalendar();
      });
    }

    // ç­›é€‰å’Œæ’åº
    function initFiltersAndSort() {
      document.getElementById('categoryFilter').addEventListener('change', () => {
        currentPage = 1;
        renderRecordsList();
      });
      
      document.getElementById('sortBy').addEventListener('change', () => {
        currentPage = 1;
        renderRecordsList();
      });
    }

    // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
    document.getElementById('recordModal').addEventListener('click', (e) => {
      if (e.target.id === 'recordModal') {
        closeRecordModal();
      }
    });

    // ESCé”®å…³é—­æ¨¡æ€æ¡†
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !document.getElementById('recordModal').classList.contains('hidden')) {
        closeRecordModal();
      }
    });

    // é¡µé¢åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      loadPracticeData();
      updateStatistics();
      generateCalendar();
      renderRecordsList();
      initMonthNavigation();
      initFiltersAndSort();
      
      // æ£€æŸ¥æˆå°±
      checkAchievements();
      
      // æ¬¢è¿æç¤º
      setTimeout(() => {
        if (practiceHistory.length === 0) {
          showToast('è¿˜æ²¡æœ‰ç»ƒä¹ è®°å½•ï¼Œå»å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡ç»ƒä¹ å§ï¼');
        } else {
          showToast(`ä½ å·²ç»å®Œæˆäº† ${practiceHistory.length} æ¬¡ç»ƒä¹ ï¼Œç»§ç»­ä¿æŒï¼`);
        }
      }, 1000);
    });
  </script>

</body>
</html><!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç»ƒä¹ è®°å½• - MindFit</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#4A6157",
            secondary: "#F7F6F2", 
            accent: "#2E2E2E",
            mint: "#8FD9A8",
            light: "#FAFAFA",
            white: "#FFFFFF",
            content: "#444444",
            gray: "#666666",
            lightGray: "#777777",
          },
        },
      },
    };
  </script>
  
  <style>
    /* é¡µé¢åŠ è½½åŠ¨ç”» */
    .page-content {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.2s forwards;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ç»Ÿè®¡å¡ç‰‡ */
    .stat-card {
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 25px rgba(74, 97, 87, 0.15);
    }

    /* è®°å½•å¡ç‰‡ */
    .record-card {
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      cursor: pointer;
    }

    .record-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(74, 97, 87, 0.1);
    }

    /* æŒ‰é’®æ ·å¼ */
    .btn-primary {
      background: linear-gradient(135deg, #4A6157, #8FD9A8);
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      box-shadow: 0 4px 20px rgba(74, 97, 87, 0.2);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 8px 30px rgba(74, 97, 87, 0.3);
    }

    .btn-secondary {
      border: 2px solid #4A6157;
      color: #4A6157;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    .btn-secondary:hover {
      background: #8FD9A8;
      border-color: #8FD9A8;
      color: white;
      transform: translateY(-2px);
    }

    /* å›¾è¡¨å®¹å™¨ */
    .chart-container {
      position: relative;
      height: 300px;
    }

    /* æ—¥å†çƒ­åŠ›å›¾ */
    .calendar-heatmap {
      display: grid;
      grid-template-columns: repeat(7, 1
